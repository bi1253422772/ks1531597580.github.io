<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>功能选择</title>

  <!-- 模块1：CSS样式区 - 负责页面视觉呈现 -->
  <style>
    /* 基础样式重置 */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", sans-serif;
    }

    /* 页面背景 */
    body {
      background: #f5f5f5;
      min-height: 100vh;
      padding: 15px;
    }

    /* 灵动岛样式 */
    .dynamic-island {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: #000;
      color: #fff;
      padding: 8px 16px;
      border-radius: 24px;
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 6px;
      z-index: 9999;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
    }
    .dynamic-island:hover {
      background: #333;
    }

    /* 页面容器通用样式 */
    .page {
      display: none;
      flex-direction: column;
      align-items: center;
      width: 100%;
      padding-top: 70px; /* 避开灵动岛 */
    }
    .page.active {
      display: flex;
    }

    /* 标题样式 */
    .title {
      font-size: 24px;
      color: #333;
      margin: 20px 0;
      font-weight: 600;
      text-align: center;
    }

    /* 功能选项样式 */
    .option {
      width: 100%;
      max-width: 350px;
      height: 70px;
      margin: 10px 0;
      border: none;
      border-radius: 12px;
      background: #fff;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #333;
      transition: all 0.2s ease;
      text-decoration: none;
      gap: 10px;
      cursor: pointer;
    }
    .option:hover {
      box-shadow: 0 6px 14px rgba(0,0,0,0.12);
      transform: translateY(-2px);
    }

    /* 抗战胜利计时面板样式 */
    .victory-timer {
      font-size: 18px;
      color: #d32f2f;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      margin: 20px 0;
      text-align: center;
      line-height: 1.8;
    }
    .victory-timer span {
      font-weight: 600;
      font-size: 20px;
    }

    /* 返回按钮样式 */
    .back-btn {
      margin-top: 20px;
      padding: 8px 20px;
      border: none;
      border-radius: 8px;
      background: #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      font-size: 16px;
      color: #333;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* 图标通用样式 */
    .icon {
      width: 24px;
      height: 24px;
    }

    /* 各选项左侧边框标识（区分功能类型） */
    .war-victory {
      border-left: 6px solid #d32f2f;
    }
    .law-study {
      border-left: 6px solid #1976d2;
    }
    .bilibili {
      border-left: 6px solid #fb7299;
    }
    .yunyuanshen {
      border-left: 6px solid #7cb342;
    }
  </style>
</head>
<body>
  <!-- 模块2：HTML结构区 - 负责页面内容布局 -->
  <!-- 灵动岛（时间跳转入口） -->
  <a href="http://time.syiban.com/haomiao.php" target="_blank" class="dynamic-island">
    <span>🕐</span>
    <span id="current-time">00:00:00</span>
  </a>

  <!-- 主页面（功能选择入口） -->
  <div class="page active" id="main-page">
    <h1 class="title">选择你想使用的功能</h1>
    
    <!-- 1. 中国抗战胜利（时间）- 首位 -->
    <div class="option war-victory" onclick="showPage('victory-page')">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="#d32f2f" stroke-width="2">
        <path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"/>
        <polyline points="12 14 14.5 11.5 17 14"/>
        <line x1="14.5" x2="8" y1="11.5" y2="18"/>
        <line x1="14.5" x2="8" y1="11.5" y2="4"/>
      </svg>
      中国抗战胜利（时间）
    </div>

    <!-- 2. 中国法律的学习 - 第二位 -->
    <a href="https://flk.npc.gov.cn/index" target="_blank" class="option law-study">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="#1976d2" stroke-width="2">
        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
        <path d="M2 17l10 5 10-5"/>
        <path d="M2 12l10 5 10-5"/>
      </svg>
      中国法律的学习
    </a>

    <!-- 3. 哔哩哔哩（在线观看）- 倒数第二位（视频类） -->
    <a href="https://m.bilibili.com/" target="_blank" class="option bilibili">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="#fb7299" stroke-width="2">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
      </svg>
      哔哩哔哩（在线观看）
    </a>

    <!-- 4. 云原神 - 末位（游戏类） -->
    <a href="https://ys.mihoyo.com/cloud/m/?utm_source=default#/" target="_blank" class="option yunyuanshen">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="#7cb342" stroke-width="2">
        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
      </svg>
      云原神
    </a>
  </div>

  <!-- 抗战胜利计时页面 -->
  <div class="page" id="victory-page">
    <h1 class="title">中国抗战胜利计时</h1>
    <div class="victory-timer">
      自1945年9月2日9时（中国战区受降仪式）<br>
      抗战胜利至今已过去：<br>
      <span id="victory-time">00年00月00日00时00分00秒</span>
    </div>
    <button class="back-btn" onclick="showPage('main-page')">
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="#333" stroke-width="2" width="18" height="18">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      返回功能选择
    </button>
  </div>

  <!-- 模块3：JavaScript逻辑区 - 负责页面交互与动态功能 -->
  <script>
    // 1. 灵动岛北京时间更新逻辑
    function updateBeijingTime() {
      // 强制计算东八区时间（兼容所有设备时区）
      const now = new Date();
      const beijingTime = new Date(now.getTime() + (now.getTimezoneOffset() + 480) * 60000);
      // 格式化时间（补零为两位数）
      const hours = String(beijingTime.getHours()).padStart(2, '0');
      const minutes = String(beijingTime.getMinutes()).padStart(2, '0');
      const seconds = String(beijingTime.getSeconds()).padStart(2, '0');
      // 更新DOM显示
      document.getElementById('current-time').textContent = `${hours}:${minutes}:${seconds}`;
    }
    // 初始加载时更新，之后每秒刷新
    updateBeijingTime();
    setInterval(updateBeijingTime, 1000);

    // 2. 页面切换逻辑
    let victoryTimerInterval; // 存储抗战胜利计时间隔器（避免重复创建）
    function showPage(pageId) {
      // 隐藏所有页面，显示目标页面
      document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');

      // 进入抗战胜利页面：启动计时；离开：清除计时（优化性能）
      if (pageId === 'victory-page') {
        updateVictoryTimer();
        victoryTimerInterval = setInterval(updateVictoryTimer, 1000);
      } else {
        clearInterval(victoryTimerInterval);
      }
    }

    // 3. 抗战胜利计时核心逻辑
    function updateVictoryTimer() {
      // 抗战胜利关键时间点：1945年9月2日9时（中国战区受降仪式）
      const victoryTime = new Date(1945, 8, 2, 9, 0, 0); // 月份从0开始，9月对应8
      const now = new Date();
      const timeDiff = now - victoryTime; // 时间差（毫秒）

      // 时间单位换算（含闰年平均计算）
      const yearMs = 1000 * 60 * 60 * 24 * 365.25;
      const monthMs = yearMs / 12;
      const dayMs = 1000 * 60 * 60 * 24;
      const hourMs = 1000 * 60 * 60;
      const minuteMs = 1000 * 60;

      // 计算各时间单位数值
      const years = Math.floor(timeDiff / yearMs);
      const remainingAfterYears = timeDiff % yearMs;
      
      const months = Math.floor(remainingAfterYears / monthMs);
      const remainingAfterMonths = remainingAfterYears % monthMs;
      
      const days = Math.floor(remainingAfterMonths / dayMs);
      const remainingAfterDays = remainingAfterMonths % dayMs;
      
      const hours = Math.floor(remainingAfterDays / hourMs);
      const remainingAfterHours = remainingAfterDays % hourMs;
      
      const minutes = Math.floor(remainingAfterHours / minuteMs);
      const seconds = Math.floor((remainingAfterHours % minuteMs) / 1000);

      // 统一格式为两位数（补零）
      const formatNum = num => String(num).padStart(2, '0');
      // 拼接最终显示文本
      const formattedTime = `${formatNum(years)}年${formatNum(months)}月${formatNum(days)}日${formatNum(hours)}时${formatNum(minutes)}分${formatNum(seconds)}秒`;
      // 更新计时显示
      document.getElementById('victory-time').textContent = formattedTime;
    }
  </script>
</body>
</html>